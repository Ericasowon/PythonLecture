# Goal
# Add income/expense records
# View all records
# Calculate total balance
# Save & load data from file (account.json)


import json

FILENAME = "account.json"

# Load account book
try:
    with open(FILENAME, "r", encoding="utf-8") as f:
        account_book = json.load(f)
except FileNotFoundError:
    account_book = []

while True:
    print("\nðŸ’° Mini Household Account Book Menu")
    print("1. Add Income/Expense Record")
    print("2. View All Records")
    print("3. Check Balance")
    print("4. Exit")

    choice = input("Select: ")

    if choice == "1":
        category = input("Enter type (Income/Expense): ")
        amount = int(input("Amount: "))
        note = input("Note: ")

        record = {"Type": category, "Amount": amount, "Note": note}
        account_book.append(record)

        with open(FILENAME, "w", encoding="utf-8") as f:
            json.dump(account_book, f, ensure_ascii=False, indent=2)

        print("âœ… Record has been saved.")

    elif choice == "2":
        print("\nðŸ“Œ All Records")
        for r in account_book:
            print(f"{r['Type']} | {r['Amount']} | {r['Note']}")

    elif choice == "3":
        balance = 0
        for r in account_book:
            if r["Type"].lower() == "income":
                balance += r["Amount"]
            elif r["Type"].lower() == "expense":
                balance -= r["Amount"]

        print(f"\nðŸ’³ Current Balance: {balance}")

    elif choice == "4":
        print("ðŸ“• Exiting the program.")
        break

    else:
        print("âš  Invalid input.")
